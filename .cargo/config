[net]
git-fetch-with-cli = true

[build]
target = "riscv64gc-unknown-none-elf"
rustflags = ['-Clink-arg=-Tlds/qemu.lds']

[target.riscv64gc-unknown-none-elf]
runner = """qemu-system-riscv64 \
    -machine virt \
    -smp 1 \
    -m 4096 \
    -nographic \
    -bios ../opensbi/build/platform/generic/firmware/fw_jump.bin \
    -device loader,file=../linux/arch/riscv/boot/Image,addr=0xc0200000 \
    -append console=ttyS0 \
    -append earlycon=sbi \
    -append keep_bootcon \
    -append bootmem_debug \
    -kernel """
